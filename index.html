<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Display Atoms</title>
    <link rel="stylesheet" href="style.css">
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.161/build/three.module.js",
                "jsm/": "https://cdn.jsdelivr.net/npm/three@0.161/examples/jsm/"
            }
        }
    </script>
</head>
<body>
    
    <input type="file" id="fileInput" accept=".xyz">

    <div id="fragWindow">
      <div id="fragWindowheader">hh</div>
      <table border="1" id="fragTable">
        <tr>
          <th>Show</th>
          <th>Fragment</th>
          <th>Atoms</th>
        </tr>
        <tr>
          <td>
            <input type="checkbox" class="checkbox">
          </td>
          <td>Fragment 1</td>
          <td></td>

        </tr>
        <tr>
          <td id="fragCell">
            <button class="button" id="newFrag">Add Fragment</button>
          </td>
        </tr>
      </table>
    </div>

    <div id="mainControl">
        <button id="file" class="button">File</button>
        <button id="view" class="button">View</button>
        <button id="fragBuilder" class="button">Fragment Builder</button>


    </div>
    <div id="allButtons" class="inMenu">
        <label for="fileInput" id="file-label" class="button">Open File</label>
        <button id="createFile" class="button">Save File</button>


        <div class="button" id="camera">
            ðŸ“·
        </div>

    </div>

    <div id="fragPanel" class="inMenu">
        <button id="enableSelection" class="button"></button>
        <button id="enableSelectionBox" class="button"></button>
        <button id="deselect" class="button">Unselect All</button>
    </div>

    <div id="info" class="inMenu">
        <button id="displayMode" class="button">Display Mode</button>
        <button id="label" class="button">Show Labels</button>

    </div>

    <input type="text" id="name" value="">
    <div id="sliderContainer">
        <input type="range" id="scalar" min="0.2" max="2" step="0.01"><br>
        <span id="scalarValue">Atom Size: 0.6</span>
    </div>

    <!-- <script src="atom.js"></script> -->
     

    <script>
        //Make the DIV element draggagle:
        dragElement(document.getElementById('allButtons'));
        dragElement(document.getElementById('info'));
        dragElement(document.getElementById('fragPanel'));
        dragElement(document.getElementById('fragWindow'));



        
        function dragElement(elmnt) {
          var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
          if (document.getElementById(elmnt.id + "header")) {
            /* if present, the header is where you move the DIV from:*/
            document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
          } else {
            /* otherwise, move the DIV from anywhere inside the DIV:*/
            elmnt.onmousedown = dragMouseDown;
          }
        
          function dragMouseDown(e) {
            elmnt.style.transition='none'

            e = e || window.event;
            e.preventDefault();
            // get the mouse cursor position at startup:
            pos3 = e.clientX;
            pos4 = e.clientY;
            document.onmouseup = closeDragElement;
            // call a function whenever the cursor moves:
            document.onmousemove = elementDrag;
          }
        
          function elementDrag(e) {
            e = e || window.event;
            e.preventDefault();
            // calculate the new cursor position:
            pos1 = pos3 - e.clientX;
            pos2 = pos4 - e.clientY;
            pos3 = e.clientX;
            pos4 = e.clientY;
            // set the element's new position:
            elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
            elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
          }
        
          function closeDragElement() {

            /* stop moving when mouse button is released:*/
            document.onmouseup = null;
            document.onmousemove = null;
            elmnt.style.transition='all 0.3s ease'

          }
        }
    </script>


     <script src="utils.js"></script>
    <script type="module" src="script.js"></script>


</body>
</html>
